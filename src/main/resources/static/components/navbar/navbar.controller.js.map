{"version":3,"sources":["components/navbar/navbar.controller.js"],"names":[],"mappings":"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","file":"components/navbar/navbar.controller.js","sourcesContent":["'use strict';\n\nclass NavbarController {}\n\n//end-non-standard\n\nangular.module('mapboxAviationDemoApp')\n  .controller('NavbarController', function ($scope, $timeout, $q, $log) {\n    var self = this;\n    self.simulateQuery = false;\n    self.isDisabled    = false;\n    self.repos         = loadAll();\n    self.querySearch   = querySearch;\n    self.selectedItemChange = selectedItemChange;\n    self.searchTextChange   = searchTextChange;\n\n    $scope.activeMenu = '';\n    $scope.menu = [{\n      'title': 'Mapping',\n      'id': 'mapping',\n      'active': false,\n      'icon': ['fa-map-o'],\n      'toggle': function () {\n        console.log(this);\n        $scope.toggleActive(this);\n      }\n    }];\n\n    $scope.filters = [\n        {\n            'name': 'ownership_type',\n            'label': 'Ownership Type',\n            'field': 'ownership.ownership_type_filter',\n            'position': 1,\n            'strategy': 'or',\n            'terms': [\n            ]\n        },\n        {\n            'name': 'fuel_type',\n            'label': 'Fuel Types',\n            'field': 'services.fuel_types_available_filter',\n            'position': 4,\n            'strategy': 'and',\n            'terms': [\n            ]\n        },\n        {\n            'name': 'type',\n            'label': 'Facility Type',\n            'field': 'type',\n            'position': 5,\n            'strategy': 'or',\n            'terms': [ \n            ]\n        },\n        {\n            'name': 'runway_length',\n            'label': 'Runway Length',\n            'field': 'runways.length',\n            'position': 2,\n            'strategy': 'and',\n            'range': {\n              'floor': 0,\n              'min': 8000,\n              'max': 14000,\n              'ceil': 15000,\n              'step': 100\n            } \n        },\n        {\n            'name': 'runway_width',\n            'label': 'Runway Width',\n            'field': 'runways.width',\n            'position': 3,\n            'strategy': 'and',\n            'range': {\n              'floor': 0,\n              'min': 50,\n              'max': 200,\n              'ceil': 500,\n              'step': 10\n            } \n        }\n\n    ];\n\n\n    $scope.mine = 'fa-bell';\n    //$scope.\n\n    $scope.isCollapsed = false;\n\n    $scope.$on('cache.filters.returned', function(e, kvp){\n        $scope.filters = kvp.value;\n    });\n\n    $scope.$on('cache.model.returned', function(e, kvp){\n        $scope.model = kvp.value;\n    });\n\n    $scope.selectedItems = function () {\n      airports.setFilters($scope.filters);\n    };\n\n    $scope.selectedModel = function (model, level) {\n      models.setModel(model, level);\n    };\n\n\n    $scope.toggleActive = function(item) {\n      $scope.activeMenu = '';\n      for (var menu of $scope.menu) {\n        if (menu.title !== item.title) {\n          menu.active = false;\n        } else {\n          menu.active = !menu.active;\n          if (menu.active) {\n            $scope.activeMenu = menu.id;\n          }\n        }\n      }\n      console.log('--> ' + item);\n    };\n\n    $scope.isActive = function(route) {\n      return route === $location.path();\n    };\n\n    function querySearch (query) {\n      var results = query ? self.repos.filter( createFilterFor(query) ) : self.repos,\n          deferred;\n      if (self.simulateQuery) {\n        deferred = $q.defer();\n        $timeout(function () { deferred.resolve( results ); }, Math.random() * 1000, false);\n        return deferred.promise;\n      } else {\n        return results;\n      }\n    }\n\n    function searchTextChange(text) {\n      $log.info('Text changed to ' + text);\n    }\n\n    function selectedItemChange(item) {\n      $log.info('Item changed to ' + JSON.stringify(item));\n    }\n    \n    /**\n     * Build `components` list of key/value pairs\n     */\n    function loadAll() {\n      var repos = [\n        {\n          'name'      : 'Angular 1',\n          'url'       : 'https://github.com/angular/angular.js',\n          'watchers'  : '3,623',\n          'forks'     : '16,175',\n        },\n        {\n          'name'      : 'Angular 2',\n          'url'       : 'https://github.com/angular/angular',\n          'watchers'  : '469',\n          'forks'     : '760',\n        },\n        {\n          'name'      : 'Angular Material',\n          'url'       : 'https://github.com/angular/material',\n          'watchers'  : '727',\n          'forks'     : '1,241',\n        },\n        {\n          'name'      : 'Bower Material',\n          'url'       : 'https://github.com/angular/bower-material',\n          'watchers'  : '42',\n          'forks'     : '84',\n        },\n        {\n          'name'      : 'Material Start',\n          'url'       : 'https://github.com/angular/material-start',\n          'watchers'  : '81',\n          'forks'     : '303',\n        }\n      ];\n      return repos.map( function (repo) {\n        repo.value = repo.name.toLowerCase();\n        return repo;\n      });\n    }\n    /**\n     * Create filter function for a query string\n     */\n    function createFilterFor(query) {\n      var lowercaseQuery = angular.lowercase(query);\n      return function filterFn(item) {\n        return (item.value.indexOf(lowercaseQuery) === 0);\n      };\n    }\n\n  });"],"sourceRoot":"/source/"}